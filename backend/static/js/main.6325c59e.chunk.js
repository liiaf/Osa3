(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),u=t.n(o),c=t(2),i=function(e){var n=e.nimi,t=e.numero,a=e.id,o=e.poistaPerson;return r.a.createElement("div",null,n," ",t," ",r.a.createElement("button",{name:n,id:a,onClick:o},"delete"))},l=function(e){var n=e.henkilot,t=e.poistaPerson;return r.a.createElement("div",null,n.map(function(e,n){return r.a.createElement(i,{key:n,nimi:e.name,numero:e.number,id:n,poistaPerson:function(){return t(e.id)}})}))},m=function(e){var n=e.addName,t=e.newName,a=e.handleNamesChange,o=e.newPhone,u=e.handlePhoneChange;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t,onChange:a})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:o,onChange:u})),r.a.createElement("button",{type:"submit"},"add")))},d=t(3),s=t.n(d),f="/api/persons",h=function(){return s.a.get(f).then(function(e){return e.data})},g=function(e){return console.log(f,e),s.a.post(f,e).then(function(e){return e.data})},b=function(e){return s.a.delete("".concat(f,"/").concat(e)).then(function(e){return e.data})},v=function(e){var n=e.notification;if(null===n.message)return null;var t={color:"error"===n.type?"red":"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10};return r.a.createElement("div",{style:t},n.message)},p=function(){var e=Object(a.useState)([{name:"Arto Hellas",number:"040 1234567",id:1}]),n=Object(c.a)(e,2),t=n[0],o=n[1],u=Object(a.useState)(""),i=Object(c.a)(u,2),d=i[0],s=i[1],f=Object(a.useState)(""),p=Object(c.a)(f,2),E=p[0],w=p[1],N=Object(a.useState)({message:null}),P=Object(c.a)(N,2),j=P[0],k=P[1];Object(a.useEffect)(function(){h().then(function(e){o(e)})},[]);var y=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";k({message:e,type:n}),setTimeout(function(){return k({message:null})},1e4)};return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement("h3",null,"Add a new"),r.a.createElement(v,{notification:j}),r.a.createElement(m,{addName:function(e){e.preventDefault();var n={name:d,number:E,id:t.length+1};""===d?(s(""),y("Name missing")):""===E?(w(""),y("Number missing")):E.length<8?(s(""),w(""),y("Phonenumber must be atleast 8 characters long")):d.length<3?(s(""),w(""),y("Name must be atleast 3 characters long")):t.find(function(e){return e.name===d})?(s(""),w(""),y("".concat(d," is already added to phonebook"))):(o(t.concat(n)),g(n).then(function(e){o(t.concat(e))}),s(""),w(""),y("Added ".concat(d)))},newName:d,handleNamesChange:function(e){s(e.target.value)},newPhone:E,handlePhoneChange:function(e){w(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(l,{henkilot:t,poistaPerson:function(e){var n=t.find(function(n){return n.id===e}),a=n.name;window.confirm("Delete ".concat(a,"?"))&&(b(e).then(o(t.filter(function(n){return n.id!==e}))),y("Deleted ".concat(n.name)))}}))};u.a.render(r.a.createElement(p,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.6325c59e.chunk.js.map